{"version":3,"sources":["utils/axiosInstance.js","components/nav.js","components/spots.js","components/home.js","components/events.js","components/detail.js","components/signup.js","components/login.js","components/index.js","components/favorites.js","components/chat/methods.js","components/chat/RoomList.js","components/chat/ChatSession.js","components/chat/RoomUsers.js","components/chat/connect.js","components/resetPassword.js","components/sendReset.js","App.js","serviceWorker.js","index.js"],"names":["axios","create","withCredentials","Nav","logoutHandler","get","process","then","localStorage","removeItem","props","history","push","className","type","data-toggle","data-target","id","href","onClick","this","Component","withRouter","Spots","changeHandler","e","searchQuery","target","value","showVenues","state","venues","filter","venue","metroArea","displayName","toLowerCase","indexOf","setState","filteredVenues","length","placeholder","onChange","map","country","to","Home","keywords","submitHandler","preventDefault","response","data","resultsPage","results","catch","error","console","log","onSubmit","name","Event","clickHandler","image","artistName","venueName","eventId","artistId","user","JSON","parse","getItem","favoritesCopy","favorites","Axios","method","url","_id","displayHeart","event","i","toggleHover","selectedEvents","hover","deleteHandler","clearHoverState","events","venueId","match","params","external","prevState","style","width","alt","src","performance","artist","onMouseEnter","onMouseLeave","color","userId","username","uri","class","Map","ReactMapboxGl","accessToken","Detail","details","start","date","time","location","lat","lng","popularity","website","queries","mobile","maxWidth","matches","center","containerStyle","height","layout","coordinates","Signup","email","password","post","message","setItem","stringify","action","for","Login","Base","handleResponse","profile","facebookId","handleError","appId","scope","onCompleted","onError","Favorite","favorite","handleInput","connectToRoom","currentUser","messages","subscribeToRoom","roomId","messageLimit","hooks","onMessage","onPresenceChanged","currentRoom","roomUsers","users","sort","a","presence","roomName","customData","isDirectMessage","userIds","rooms","connectToChatkit","trim","tokenProvider","Chatkit","TokenProvider","ChatManager","instanceLocator","connect","onAddedToRoom","room","showLogin","call","alert","sendMessage","newMessage","text","createPrivateRoom","isPrivateChatCreated","arr","join","Promise","resolve","createRoom","private","addUserIds","sendDM","RoomList","roomList","roomIcon","isPrivate","isRoomActive","key","ChatSession","format","Date","updatedAt","senderId","RoomUsers","title","Connect","isLoading","bind","Reset","pattern","required","hidden","SendReset","successMessage","PrivateRoute","component","loggedIn","rest","render","App","checkForUserStatus","navDisplay","pathname","path","exact","routeProps","Boolean","window","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f8cf9496.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport default axios.create({withCredentials: true})","import React, { Component } from \"react\";\r\nimport axios from \"../utils/axiosInstance\"\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass Nav extends Component {\r\n\r\n    logoutHandler = () => {\r\n        axios.get(`${process.env.REACT_APP_API}/auth/logout`)\r\n        .then(()=>{\r\n            localStorage.removeItem(\"user\")\r\n            this.props.history.push(\"/auth/login\")\r\n        })\r\n    }\r\n    \r\n    render(){\r\n        return(\r\n            <nav className=\"navbar navbar-expand-lg bg-primary navbar-dark\">\r\n            <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapsibleNavbar\">\r\n                <span className=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n            <div className=\"collapse navbar-collapse justify-content-center\" id=\"collapsibleNavbar\">\r\n                <ul className=\"navbar-nav\">\r\n                    <li className=\"nav-item\">\r\n                    <a className=\"nav-link display-4 font-weight-bold\" href=\"/home\">Home |</a>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                    <a className=\"nav-link display-4 font-weight-bold\" href=\"/favorites\">Favorites |</a>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                    <a className=\"nav-link display-4 font-weight-bold\" href=\"/connect\">Connect |</a>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                    <a className=\"nav-link display-4 font-weight-bold\" href=\"/\" onClick={this.logoutHandler}>Logout</a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Nav);\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Nav from \"./nav\";\r\n\r\nclass Spots extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            venues: this.props.venues || [],\r\n            filteredVenues: []\r\n        }\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n          \r\n        let searchQuery = e.target.value;\r\n\r\n        var showVenues = (\r\n            this.state.venues.filter(venue => (\r\n                venue.metroArea.displayName.toLowerCase().indexOf(searchQuery.toLowerCase()) !== -1\r\n            ))\r\n        )\r\n\r\n        this.setState({\r\n            filteredVenues: showVenues\r\n        })\r\n\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <>\r\n            {this.state.filteredVenues.length > 0 ? \r\n                <div>\r\n                <Nav/>\r\n                <input  className=\"text-center d-block mx-auto my-3 border border-top-0 border-right-0 border-left-0\" type=\"text\" placeholder=\"Filter by city\" onChange={this.changeHandler}/>\r\n                {this.state.filteredVenues.map(venue=>(                \r\n                <div className=\"border border-top-0 border-right-0 border-left-0 my-3 p-3\">\r\n                    <h3 className=\"text-primary\">{venue.displayName}</h3>\r\n                    <p><span className=\"font-weight-bold mr-2\">Hosting city:</span>{venue.metroArea.displayName}, {venue.metroArea.country.displayName}</p>\r\n                    <Link to={`/events/${venue.id}`} className=\"btn btn-primary\">Check Events</Link>\r\n                </div>\r\n            ))}\r\n            </div>\r\n            :\r\n            <div>\r\n                <Nav/>\r\n                <input type=\"text\" className=\"text-center d-block mx-auto my-3 border-top-0 border-right-0 border-left-0\" placeholder=\"Filter by city\" onChange={this.changeHandler}/>\r\n                {this.state.venues && this.state.venues.map(venue=>(               \r\n                <div className=\"border border-top-0 border-right-0 border-left-0 my-3 p-3\">\r\n                    <h3 className=\"text-primary\">{venue.displayName}</h3>\r\n                    <p><span className=\"font-weight-bold mr-2\">Hosting city:</span>{venue.metroArea.displayName}, {venue.metroArea.country.displayName}</p>\r\n                    <Link to={`/events/${venue.id}`} className=\"btn btn-primary\">Check Events</Link>\r\n                </div>\r\n            ))}\r\n            </div>\r\n            }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Spots)","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport Spots from \"./spots\";\r\n\r\nclass Home extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            keywords: \"\",\r\n            venues: []\r\n        }\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        this.setState({\r\n            keywords: e.target.value\r\n        })\r\n    }\r\n\r\n    submitHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        axios.get(`https://api.songkick.com/api/3.0/search/venues.json?query=${this.state.keywords}&apikey=${process.env.REACT_APP_KEY}`)\r\n        .then(response=>{\r\n            debugger\r\n            this.setState({\r\n                venues: response.data.resultsPage.results.venue || []\r\n            })\r\n            \r\n        })\r\n        .catch(error=>{\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <>\r\n                {this.state.venues.length > 0  ?\r\n                    <Spots venues={this.state.venues} /> :\r\n                    <div className=\"bg-img d-flex flex-column justify-content-center align-items-center mb-3\">\r\n                        <div className=\"main-txt text-white lead display-2 mb-2\">\r\n                            Search For Events Tailored To Your Taste\r\n                        </div>\r\n                        <form className=\"form-inline d-flex flex-column text-black font-weight-bold\" onSubmit={this.submitHandler}>\r\n                            <input type=\"text\" onChange={this.changeHandler} name=\"keywords\" placeholder=\"Enter keywords\" className=\"py-2 px-auto my-3\"></input>\r\n                            <button type=\"submit\" className=\"btn btn-danger btn-lg\">Search</button>\r\n                        </form>\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Home","import React, { Component } from \"react\";\r\nimport axios from \"axios\"\r\nimport Axios from \"../utils/axiosInstance\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Event extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            events: [],\r\n            favorites: [],\r\n            hover: false,\r\n            selectedEvents: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let user = JSON.parse(localStorage.getItem('user'))\r\n        let venueId = this.props.match.params.id\r\n        \r\n        axios.get(`https://api.songkick.com/api/3.0/venues/${venueId}/calendar.json?apikey=${process.env.REACT_APP_KEY}`)\r\n        .then(external=>{\r\n            \r\n            Axios({\r\n                method: \"GET\",\r\n                url: `${process.env.REACT_APP_API}/auth/favorites/${user._id}`\r\n            })\r\n            .then(response=>{\r\n                this.setState({\r\n                    favorites: response.data,\r\n                    events: external.data.resultsPage.results.event,\r\n\r\n                })\r\n            })\r\n            .catch(error=>console.log(error))\r\n        })\r\n        .catch(error=>{\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    componentDidUpdate(prevState){\r\n        let user = JSON.parse(localStorage.getItem('user'))\r\n\r\n        Axios.get(`${process.env.REACT_APP_API}/auth/favorites/${user._id}`)\r\n        .then(response=>{\r\n            if(prevState.favorites !== response.data){\r\n                this.setState({\r\n                    favorites: response.data\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    clickHandler = (image, artistName, venueName, eventId, artistId) => {\r\n        \r\n        let user = JSON.parse(localStorage.getItem('user'))\r\n\r\n        \r\n        let favoritesCopy = [...this.state.favorites]\r\n\r\n        favoritesCopy.push(eventId)\r\n\r\n        this.setState({\r\n            favorites: favoritesCopy\r\n            })\r\n\r\n        Axios({\r\n            method: \"GET\",\r\n            url: `${process.env.REACT_APP_API}/auth/add/${user._id}?image=${image}&artistName=${artistName}&venueName=${venueName}&eventId=${eventId}&artistId=${artistId}`\r\n        })\r\n        .then(response=>{\r\n            console.log(response);\r\n        })\r\n        .catch(error=>{\r\n            console.log(error);\r\n        })\r\n    }\r\n\r\n    displayHeart = (event) => {\r\n        for(let i = 0; i < this.state.favorites.length; i++){\r\n            if(this.state.favorites[i].eventId === event.id){\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n\r\n    toggleHover = (eventId) => {\r\n        \r\n        Axios.get(`${process.env.REACT_APP_API}/auth/favorites/hover/${eventId}`)\r\n        .then(response=>{                     \r\n            this.setState({\r\n                selectedEvents: response.data,\r\n                hover: eventId\r\n            })\r\n        })\r\n        .catch(error=>{             \r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    deleteHandler = (eventId) => {\r\n        \r\n        let user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n        Axios({\r\n            method: \"POST\",\r\n            url: `${process.env.REACT_APP_API}/auth/favorites/delete/${user._id}/${eventId}`\r\n        })\r\n        .then(response=>{\r\n            this.setState({\r\n                favorites: response.data\r\n            })\r\n        })\r\n        .catch(error=>console.log(error))\r\n    }\r\n\r\n    clearHoverState = () => {\r\n        this.setState({\r\n            hover: false\r\n        })\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <>\r\n            <div className=\"d-flex flex-wrap container\">\r\n            {!this.state.events ? \r\n                <div className=\"border bg-light border-primary text-white w-50 h-50 p-3 my-3\">\r\n                    <h1 class=\"oops\">Oops!<span>There are no events for the chosen venue...!!</span></h1><br></br>\r\n                    <Link className=\"btn btn-primary mt-3\" to=\"/home\">Take Me Back Please!!!</Link>\r\n                </div>\r\n            :\r\n            <>\r\n                {this.state.events.map(event=>(                    \r\n                    <div className=\"card m-3\" style={{width: \"330px\"}}>\r\n                        <img className=\"card-img-top\" alt=\"\" src={`https://images.sk-static.com/images/media/profile_images/artists/${event.performance[0].artist.id}/huge_avatar`}/>\r\n                        <div className=\"card-body\">\r\n                            <h4 className=\"card-title\">{event.performance[0].artist.displayName}</h4>\r\n                            <p className=\"card-text\">{event.venue.displayName}</p>\r\n                            <Link to={`/event-details/${event.id}`} className=\"btn btn-primary\">Event Details</Link>\r\n                            {this.displayHeart(event) ? \r\n                            (\r\n                            <>\r\n                            <div onMouseEnter={()=>this.toggleHover(event.id)} onMouseLeave={this.clearHoverState} className=\"h-50\">\r\n                            <i onClick={()=>this.deleteHandler(event.id)} className=\"fa fa-heart float-right btn-lg\" style={{color: \"red\"}}></i>\r\n                            </div>\r\n                            {this.state.hover === event.id ? \r\n                            <div className=\"border w-75 mt-2 ml-3\">\r\n                                <h4>People with common interests!!</h4>\r\n                                {this.state.selectedEvents.map(event=>(                                    \r\n                                    <li className=\"lead font-weight-bold\">{event.userId.username}</li>\r\n                                ))}\r\n                            </div>                            \r\n                            : \"\"}\r\n                            </>\r\n                            )\r\n                            : <div className=\"h-50\"><i className=\"fa fa-heart float-right btn-lg\" style={{color: \"black\"}} name={event.id} onClick={() => {this.clickHandler(event.performance[0].artist.uri, event.performance[0].artist.displayName, event.venue.displayName, event.id, event.performance[0].artist.id)}}></i></div>}\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n                </>\r\n                }\r\n            </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Event","import React, { Component } from \"react\";\r\nimport axios from \"axios\"\r\nimport ReactMapboxGl, { Layer, Feature } from 'react-mapbox-gl';\r\nimport Media from \"react-media\";\r\n\r\nconst Map = ReactMapboxGl({\r\n    accessToken:\r\n      'pk.eyJ1IjoibmloYXJpa2E5NTIxOCIsImEiOiJjazIzYmw2NDMxczVhM3B1Z3I1c2RmMXd2In0.IKDbblC0k7rWIvwpIohgsA'\r\n  });\r\n\r\nclass Detail extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            details: {\r\n                start: {\r\n                    date: \"\",\r\n                    time: \"\"\r\n                },\r\n                performance: [{\r\n                    artist: {}\r\n                }],\r\n                venue: {\r\n                    metroArea: {\r\n                        displayName: \"\",\r\n                        country: {}\r\n                    }\r\n                },\r\n                location: {}\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        let eventId = this.props.match.params.id\r\n\r\n        axios.get(`https://api.songkick.com/api/3.0/events/${eventId}.json?apikey=${process.env.REACT_APP_KEY}`)\r\n        .then(response=>{\r\n            this.setState({\r\n                details: response.data.resultsPage.results.event\r\n            })\r\n        })\r\n        .catch(error=>{\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n\r\n    render(){\r\n        let lat = this.state.details.location.lat;\r\n        let lng = this.state.details.location.lng;\r\n\r\n        return(\r\n            <>\r\n            <div className=\"d-flex justify-content-around align-items-center detail-div\">\r\n                <img className=\"each\" src={`https://images.sk-static.com/images/media/profile_images/artists/${this.state.details.performance[0].artist.id}/huge_avatar`} alt=\"\"/>\r\n                <div className=\"bg-light text-dark p-4 d-flex flex-column justify-content-around\">\r\n                <div>\r\n                    <h2><strong>Event Name:</strong> {this.state.details.displayName}</h2>\r\n                    <h2><strong>Event Date:</strong> {this.state.details.start.date}</h2>\r\n                    <h2><strong>Popularity:</strong> {this.state.details.popularity}</h2>\r\n                    <h2><strong>Event Time:</strong> {this.state.details.start.time}</h2>\r\n                    <h2><strong>Event Hosted At:</strong> {this.state.details.venue.metroArea.displayName}, {this.state.details.venue.metroArea.country.displayName}</h2>\r\n                    <h2><strong>Website:</strong> <a href={this.state.details.venue.website} className=\"text-decoration-none\">{this.state.details.venue.website}</a></h2>\r\n                    </div>\r\n\r\n                    {/* {lat ?\r\n                    <Map\r\n                    center= {[lng, lat]}\r\n                    style=\"mapbox://styles/mapbox/streets-v9\"\r\n                    containerStyle={{\r\n                        height: '50vh',\r\n                        width: '45vw' \r\n                                    }}\r\n                    >\r\n                    <Layer type=\"symbol\" id=\"marker\" layout={{ 'icon-image': 'marker-15' }}>\r\n                        <Feature coordinates={[{lng}, {lat}]} />\r\n                    </Layer>\r\n                    </Map> : null} */}\r\n\r\n                    {lat ?\r\n                    <Media queries={{ mobile: {maxWidth: 640}}}>\r\n                        {matches => { \r\n                        console.log(matches.mobile)\r\n                            return matches.mobile ? (\r\n                                <Map      \r\n                                    center= {[lng, lat]}\r\n                                    style=\"mapbox://styles/mapbox/streets-v9\"\r\n                                    containerStyle={{\r\n                                        height: '50vh',\r\n                                        width: '80vw' \r\n                                                    }}\r\n                                    >\r\n                                    <Layer type=\"symbol\" id=\"marker\" layout={{ 'icon-image': 'marker-15' }}>\r\n                                        <Feature coordinates={[{lng}, {lat}]} />\r\n                                    </Layer>\r\n                                </Map>\r\n                            ) : (\r\n                                <Map      \r\n                                    center= {[lng, lat]}\r\n                                    style=\"mapbox://styles/mapbox/streets-v9\"\r\n                                    containerStyle={{\r\n                                        height: '50vh',\r\n                                        width: '45vw' \r\n                                                    }}\r\n                                    >\r\n                                    <Layer type=\"symbol\" id=\"marker\" layout={{ 'icon-image': 'marker-15' }}>\r\n                                        <Feature coordinates={[{lng}, {lat}]} />\r\n                                    </Layer>\r\n                                    </Map>\r\n                            )}}</Media>                    \r\n                    : null}\r\n                </div>\r\n            </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Detail","import React, { Component } from \"react\";\r\nimport axios from \"../utils/axiosInstance\"\r\nimport {Link} from \"react-router-dom\"; \r\n\r\nclass Signup extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            username: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            message: \"\"\r\n        }\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    submitHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        let user = {\r\n            username: this.state.username,\r\n            email: this.state.email,\r\n            password: this.state.password\r\n        }\r\n\r\n        axios.post(`${process.env.REACT_APP_API}/auth/signup`, user)\r\n        .then((response) => {\r\n            if(response.data.message) {\r\n                this.setState({\r\n                    message: response.data.message\r\n                })\r\n            } else {\r\n                localStorage.setItem(\"user\", JSON.stringify(response.data))\r\n                this.props.user();\r\n                this.props.history.push(\"/home\")\r\n            }\r\n            \r\n        })\r\n        .catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n    \r\n    render(){\r\n        return(\r\n            <div className=\"d-flex flex-column align-items-center justify-content-center bg-info signup-div\">\r\n                {this.state.message ?<p className=\"border p-2 font-weight-bolder rounded border-white text-danger bg-white\">{this.state.message}</p> :  null}\r\n                <form action=\"/auth/signup\" method=\"POST\" className=\"border border-dark rounded d-flex flex-column align-items-between ml-3 mr-n3 p-3 bg-light\" onSubmit={this.submitHandler}>\r\n                    <h1>Come, Join Us!</h1>\r\n                    <div className=\"py-3\">\r\n                        <label for=\"username\">Username</label>\r\n                        <input type=\"text\" className=\"ml-3\" name=\"username\" onChange={this.changeHandler}/>\r\n                    </div>\r\n                    <div className=\"py-3\">\r\n                        <label for=\"email\">Email</label>\r\n                        <input type=\"email\" className=\"ml-3\" name=\"email\" onChange={this.changeHandler}/>\r\n                    </div>\r\n                    <div className=\"py-3\">\r\n                        <label for=\"password\">Password</label>\r\n                        <input type=\"password\" className=\"ml-3\" name=\"password\" onChange={this.changeHandler}/>\r\n                    </div>\r\n                    <div>\r\n                    <button type=\"submit\" className=\"btn btn-lg btn-primary\">Create Account</button>\r\n                    </div>                    \r\n                    <p>Already got an account? <Link to=\"/auth/login\">Login</Link></p>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Signup;","import React, { Component } from \"react\";\r\nimport axios from \"../utils/axiosInstance\"\r\n\r\nclass Login extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            email: \"\",\r\n            password: \"\",\r\n            message: \"\"\r\n        }\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    submitHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        let user = {\r\n            email: this.state.email,\r\n            password: this.state.password\r\n        }\r\n\r\n        axios.post(`${process.env.REACT_APP_API}/auth/login`, user)\r\n        .then((response) => {\r\n            if(response.data.message){\r\n                this.setState({\r\n                    message: response.data.message\r\n                })\r\n            } else {\r\n                localStorage.setItem(\"user\", JSON.stringify(response.data))\r\n                this.props.user();\r\n                this.props.history.push(\"/home\")}\r\n        })\r\n        .catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n    \r\n    render(){\r\n        return(\r\n            <div className=\"d-flex flex-column align-items-center justify-content-center bg-info login-div\">\r\n                {this.state.message ? <p className=\"text-danger p-2 bg-white font-weight-bolder border rounded border-white\">{this.state.message}</p> : null}\r\n                <form action=\"/auth/signup\" method=\"POST\" onSubmit={this.submitHandler} className=\"border border-dark rounded d-flex flex-column align-items-between ml-3 mr-n3 p-3 bg-light\">\r\n                    <h1 className=\"mb-3 pd-1\">Why wait, login!!</h1>\r\n                    <div>\r\n                        <label for=\"email\">Email</label>\r\n                        <input type=\"email\" name=\"email\" className=\"ml-3 mb-2\" onChange={this.changeHandler}/>\r\n                    </div>\r\n                    <div>\r\n                        <label for=\"password\">Password</label>\r\n                        <input type=\"password\" name=\"password\"  className=\"ml-3\" onChange={this.changeHandler}/>\r\n                    </div>\r\n                    <div>\r\n                        <button type=\"submit\" className=\"btn btn-lg btn-primary\">Login</button>\r\n                    </div>\r\n                    <a href=\"/auth/send-reset\">Forgot Password?</a>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Login;","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FacebookProvider, LoginButton } from 'react-facebook';\r\nimport axios from \"../utils/axiosInstance\"\r\n\r\nclass Base extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            error: null\r\n        }\r\n    }\r\n\r\n    handleResponse = (data) => {\r\n        console.log(data)\r\n\r\n        let user = {\r\n            username: data.profile.name,\r\n            email: data.profile.email,\r\n            facebookId: data.profile.id\r\n        }\r\n    \r\n        axios.post(`${process.env.REACT_APP_API}/auth/fb-login`, user)\r\n        .then(response=>{\r\n           localStorage.setItem(\"user\", JSON.stringify(response.data))\r\n           this.props.user()\r\n           this.props.history.push(\"/home\")\r\n        })\r\n        .catch(error=>{\r\n            this.setState({error: error})\r\n        })\r\n    }\r\n     \r\n    handleError = (error) => {\r\n        this.setState({ error });\r\n      }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"bg-img d-flex flex-column justify-content-center align-items-center\">\r\n                <div className=\"main-txt text-white lead display-2 mb-2\">\r\n                    Search For Events Tailored To Your Taste\r\n                </div>\r\n                <div className=\"mb-3\">                \r\n                    <Link to=\"/auth/signup\" className=\"btn btn-danger btn-lg mr-3\">Signup</Link>\r\n                    <Link to=\"/auth/login\" className=\"btn btn-danger btn-lg\">Login</Link>\r\n                </div>\r\n                <FacebookProvider appId=\"928765154159482\">\r\n                    <LoginButton\r\n                        scope=\"email\"\r\n                        onCompleted={this.handleResponse}\r\n                        onError={this.handleError}\r\n                    >\r\n                    <span className=\"btn btn-primary btn-lg\">Login via Facebook</span>\r\n                    </LoginButton>\r\n                </FacebookProvider>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Base","import React, {Component} from \"react\";\r\nimport axios from \"../utils/axiosInstance\"\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Favorite extends Component{\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            favorites: []\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n\r\n        let user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n        axios({\r\n            method: \"GET\",\r\n            url: `${process.env.REACT_APP_API}/auth/favorites/${user._id}`\r\n        })\r\n        .then(response=>{\r\n            this.setState({\r\n                favorites: response.data\r\n            })\r\n        })\r\n        .catch(error=>console.log(error))\r\n    }\r\n\r\n    deleteHandler = (eventId) => {\r\n        let user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\n        axios({\r\n            method: \"POST\",\r\n            url: `${process.env.REACT_APP_API}/auth/favorites/delete/${user._id}/${eventId}`\r\n        })\r\n        .then(response=>{\r\n            this.setState({\r\n                favorites: response.data\r\n            })\r\n        })\r\n        .catch(error=>console.log(error))\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"d-flex flex-wrap container\">\r\n            {this.state.favorites.map(favorite=>(\r\n                <div className=\"card m-3\" style={{width: \"330px\"}}>\r\n                        <img className=\"card-img-top\" alt=\"\" src={`https://images.sk-static.com/images/media/profile_images/artists/${favorite.artistId}/huge_avatar`}/>\r\n                        <div className=\"card-body\">\r\n                            <h4 className=\"card-title\">{favorite.artistName}</h4>\r\n                            <p className=\"card-text\">{favorite.venueName}</p>\r\n                            <Link to={`/event-details/${favorite.eventId}`} className=\"btn btn-primary\">Event Details</Link>\r\n                            <button className=\"btn btn-primary float-right text-white\" onClick={()=>this.deleteHandler(favorite.eventId)}>Remove Favorite</button>\r\n                        </div>\r\n                </div>\r\n            ))\r\n        }\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Favorite","import Chatkit from '@pusher/chatkit-client';\r\nimport axios from \"../../utils/axiosInstance\"\r\n\r\nfunction handleInput(event) {\r\n      const { value, name } = event.target;\r\n      this.setState({\r\n        [name]: value,\r\n      });\r\n}\r\n\r\nfunction connectToRoom(id = \"d1725b35-c95a-49e9-a454-b6be719a8acb\") {\r\n        const { currentUser } = this.state;\r\n  \r\n        this.setState({\r\n          messages: [],\r\n        });\r\n  \r\n        return currentUser\r\n          .subscribeToRoom({\r\n            roomId: `${id}`,\r\n            messageLimit: 100,\r\n            hooks: {\r\n                onMessage: message => {\r\n                    this.setState({\r\n                      messages: [...this.state.messages, message],\r\n                    });\r\n                },\r\n                onPresenceChanged: () => {\r\n                    const { currentRoom } = this.state;\r\n                    this.setState({\r\n                      roomUsers: currentRoom.users.sort(a => {\r\n                        if (a.presence.state === 'online') return -1;\r\n      \r\n                        return 1;\r\n                      }),\r\n                    });\r\n                },\r\n            },\r\n          })\r\n          .then(currentRoom => {\r\n            const roomName =\r\n              currentRoom.customData && currentRoom.customData.isDirectMessage\r\n                ? currentRoom.customData.userIds.filter(\r\n                    id => id !== currentUser.id\r\n                  )[0]\r\n                : currentRoom.name;\r\n  \r\n            this.setState({\r\n              currentRoom,\r\n              roomUsers: currentRoom.users,\r\n              rooms: currentUser.rooms,\r\n              roomName,\r\n            });\r\n          })\r\n          .catch(console.error);\r\n}\r\n\r\nfunction connectToChatkit(username) {      \r\n\r\n      if (username === null || username.trim() === '') {\r\n        alert('Invalid userId');\r\n        return;\r\n      }\r\n\r\n      axios\r\n        .post(`${process.env.REACT_APP_API}/users`, { username })\r\n        .then((response) => {\r\n          const username = response.data\r\n          const tokenProvider = new Chatkit.TokenProvider({\r\n            url: `${process.env.REACT_APP_API}/authenticate`,\r\n          });\r\n\r\n          const chatManager = new Chatkit.ChatManager({\r\n            instanceLocator: `${process.env.REACT_APP_CHATKIT_INSTANCE_LOCATOR}`,\r\n            userId: username,\r\n            tokenProvider,\r\n          });\r\n\r\n          return chatManager\r\n            .connect({\r\n              onAddedToRoom: room => {\r\n                const { rooms } = this.state;\r\n                this.setState({\r\n                  rooms: [...rooms, room],\r\n                });\r\n              },\r\n            })\r\n            .then(currentUser => {\r\n              this.setState(\r\n                {\r\n                  currentUser,\r\n                  showLogin: false,\r\n                  rooms: currentUser.rooms,\r\n                },\r\n                () => connectToRoom.call(this)\r\n              );\r\n            });\r\n        })\r\n        .catch(console.error);\r\n}\r\n\r\nfunction sendMessage(event) {\r\n    event.preventDefault();\r\n    const { newMessage, currentUser, currentRoom } = this.state;\r\n\r\n    if (newMessage.trim() === '') return;\r\n\r\n    currentUser.sendMessage({\r\n      text: newMessage,\r\n      roomId: `${currentRoom.id}`,\r\n    });\r\n\r\n    this.setState({\r\n      newMessage: '',\r\n    });\r\n  }\r\n\r\n  function createPrivateRoom(id) {\r\n    const { currentUser, rooms } = this.state;\r\n    const roomName = `${currentUser.id}_${id}`;\r\n\r\n    const isPrivateChatCreated = rooms.filter(room => {\r\n      if (room.customData && room.customData.isDirectMessage) {\r\n        const arr = [currentUser.id, id];\r\n        const { userIds } = room.customData;\r\n\r\n        if (arr.sort().join('') === userIds.sort().join('')) {\r\n          return {\r\n            room,\r\n          };\r\n        }\r\n      }\r\n\r\n      return false;\r\n    });\r\n\r\n    if (isPrivateChatCreated.length > 0) {\r\n      return Promise.resolve(isPrivateChatCreated[0]);\r\n    }\r\n\r\n    return currentUser.createRoom({\r\n      name: `${roomName}`,\r\n      private: true,\r\n      addUserIds: [`${id}`],\r\n      customData: {\r\n        isDirectMessage: true,\r\n        userIds: [currentUser.id, id],\r\n      },\r\n    });\r\n  }\r\n\r\n  function sendDM(id) {\r\n    createPrivateRoom.call(this, id).then(room => {\r\n      connectToRoom.call(this, room.id);\r\n    });\r\n  }\r\n\r\n  export { handleInput, connectToRoom, connectToChatkit, sendMessage, sendDM }","import React from 'react';\r\nimport Proptypes from 'prop-types';\r\n\r\nconst RoomList = props => {\r\n      const { rooms, currentRoom, connectToRoom, currentUser } = props;\r\n      const roomList = rooms.map(room => {\r\n        const roomIcon = !room.isPrivate ? '🌐' : '🔒';\r\n        const isRoomActive = room.id === currentRoom.id ? 'active' : '';\r\n\r\n        return (\r\n          <li\r\n            className={isRoomActive}\r\n            key={room.id}\r\n            onClick={() => connectToRoom(room.id)}\r\n          >\r\n            <span className=\"room-icon\">{roomIcon}</span>\r\n            {room.customData && room.customData.isDirectMessage ? (\r\n              <span className=\"room-name\">\r\n                {room.customData.userIds.filter(id => id !== currentUser.id)[0]}\r\n              </span>\r\n            ) : (\r\n              <span className=\"room-name\">{room.name}</span>\r\n            )}\r\n          </li>\r\n        );\r\n      });\r\n      return (\r\n        <div className=\"rooms\">\r\n          <ul className=\"chat-rooms\">{roomList}</ul>\r\n        </div>\r\n      );\r\n    };\r\n\r\nRoomList.propTypes = {\r\n      rooms: Proptypes.array.isRequired,\r\n      currentRoom: Proptypes.object.isRequired,\r\n      connectToRoom: Proptypes.func.isRequired,\r\n      currentUser: Proptypes.object.isRequired,\r\n    };\r\n\r\nexport default RoomList;","import React from 'react';\r\nimport Proptypes from 'prop-types';\r\nimport { format } from 'date-fns';\r\n\r\nconst ChatSession = props => {\r\n      const { messages } = props;\r\n      return messages.map(message => {\r\n        const time = format(new Date(`${message.updatedAt}`), 'HH:mm');\r\n\r\n        return (\r\n          <li className=\"message\" key={message.id}>\r\n            <div>\r\n              <span className=\"user-id\">{message.senderId}</span>\r\n              <span>{message.text}</span>\r\n            </div>\r\n            <span className=\"message-time\">{time}</span>\r\n          </li>\r\n        );\r\n      });\r\n    };\r\n\r\nChatSession.propTypes = {\r\n      messages: Proptypes.arrayOf(Proptypes.object).isRequired,\r\n    };\r\n\r\nexport default ChatSession;","import React from 'react';\r\nimport Proptypes from 'prop-types';\r\n\r\nconst RoomUsers = props => {\r\n      const { roomUsers, sendDM, currentUser } = props;\r\n      const users = roomUsers.map(user => {\r\n        return (\r\n          <li className=\"room-member\" key={user.id}>\r\n            <div>\r\n              <span className={`presence ${user.presence.state}`} />\r\n              <span>{user.name}</span>\r\n            </div>\r\n            {currentUser.id !== user.id ? (\r\n              <button\r\n                onClick={() => sendDM(user.id)}\r\n                title={`Send ${user.name} a direct message`}\r\n                className=\"send-dm\"\r\n              >\r\n                +\r\n              </button>\r\n            ) : null}\r\n          </li>\r\n        );\r\n      });\r\n\r\n      return (\r\n        <div className=\"room-users\">\r\n          <ul>{users}</ul>\r\n        </div>\r\n      );\r\n    };\r\n\r\nRoomUsers.propTypes = {\r\n      roomUsers: Proptypes.array.isRequired,\r\n      sendDM: Proptypes.func.isRequired,\r\n      currentUser: Proptypes.object.isRequired,\r\n    };\r\n\r\nexport default RoomUsers;","import React, { Component } from \"react\";\r\nimport { handleInput, connectToChatkit, connectToRoom, sendMessage, sendDM } from './methods';\r\nimport RoomList from './RoomList';\r\nimport ChatSession from './ChatSession';\r\nimport RoomUsers from './RoomUsers';\r\nimport \"./chat.css\";\r\n\r\nclass Connect extends Component{\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n          userId: '',\r\n          showLogin: true,\r\n          isLoading: false,\r\n          currentUser: null,\r\n          currentRoom: null,\r\n          rooms: [],\r\n          roomUsers: [],\r\n          roomName: null,\r\n          messages: [],\r\n          newMessage: '',\r\n        };\r\n\r\n        this.handleInput = handleInput.bind(this);\r\n        this.connectToChatkit = connectToChatkit.bind(this);\r\n        this.connectToRoom = connectToRoom.bind(this);\r\n        this.sendMessage = sendMessage.bind(this);\r\n        this.sendDM = sendDM.bind(this);\r\n      }\r\n\r\n      componentDidMount(){\r\n        let user = JSON.parse(localStorage.getItem(\"user\"))\r\n\r\n        let username = user.username\r\n\r\n        this.connectToChatkit(username);\r\n      }\r\n\r\n      render() {\r\n        const {\r\n          userId,\r\n          showLogin,\r\n          rooms,\r\n          currentRoom,\r\n          currentUser,\r\n          messages,\r\n          newMessage,\r\n          roomUsers,\r\n          roomName,\r\n        } = this.state;\r\n\r\n        return (\r\n          <div className=\"App\">\r\n            <aside className=\"sidebar left-sidebar\">\r\n                {currentUser ? (\r\n                    <div className=\"user-profile\">\r\n                        <span className=\"user-id\">{`${currentUser.id}`}</span>\r\n                    </div>\r\n                ) : null}\r\n\r\n                {currentRoom ? (\r\n                <RoomList\r\n                  rooms={rooms}\r\n                  currentRoom={currentRoom}\r\n                  connectToRoom={this.connectToRoom}\r\n                  currentUser={currentUser}\r\n                />\r\n              ) : null}\r\n            </aside>\r\n            <section className=\"chat-screen\">\r\n              <header className=\"chat-header\">\r\n                {currentRoom ? <h3>{roomName}</h3> : null}\r\n              </header>\r\n              <ul className=\"chat-messages\">\r\n                <ChatSession messages={messages} />\r\n              </ul>\r\n              <footer className=\"chat-footer\">\r\n                <form onSubmit={this.sendMessage} className=\"message-form\">\r\n                  <input\r\n                    type=\"text\"\r\n                    value={newMessage}\r\n                    name=\"newMessage\"\r\n                    className=\"message-input\"\r\n                    placeholder=\"Type your message and hit ENTER to send\"\r\n                    onChange={this.handleInput}\r\n                  />\r\n                </form>\r\n              </footer>\r\n            </section>\r\n            <aside className=\"sidebar right-sidebar\">\r\n\r\n                {currentRoom ? (\r\n                    <RoomUsers\r\n                    currentUser={currentUser}\r\n                    sendDM={this.sendDM}\r\n                    roomUsers={roomUsers}\r\n                    />\r\n                ) : null}\r\n\r\n                {/* {showLogin ? (\r\n                    <Dialog\r\n                    userId={userId}\r\n                    handleInput={this.handleInput}\r\n                    connectToChatkit={this.connectToChatkit}\r\n                    />\r\n                ) : null} */}\r\n            </aside>\r\n          </div>\r\n        );\r\n      }\r\n}\r\n\r\nexport default Connect","import React, { Component } from \"react\";\r\n\r\nclass Reset extends Component{\r\n\r\n    submitHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        this.props.user()\r\n\r\n        this.props.history.push(\"/send-reset\")\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <form action=\"{{{config.host}}}/auth/reset-password\" method=\"POST\" onSubmit={this.submitHandler}>\r\n                <div class=\"form-group\">\r\n                    <label for=\"password\">\r\n                    <span>Password</span>\r\n                    <span>*8 characters, at least 1 number and 1 letter</span>\r\n                    </label>\r\n                    <input type=\"password\" name=\"password\" pattern=\"^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$\"\r\n                           placeholder=\"Your New Password\" class=\"form-control\" required/>\r\n                    <input type=\"text\" hidden name=\"token\" value=\"{{token}}\"/>\r\n                </div>\r\n                <button type=\"submit\" class=\"btn btn-primary\" id=\"reset-btn\">Reset Password</button>\r\n            </form>  \r\n        )\r\n    }\r\n}\r\n\r\nexport default Reset","import React, { Component } from \"react\";\r\nimport axios from \"../utils/axiosInstance\"\r\n\r\nclass SendReset extends Component{\r\n\r\n    constructor(){\r\n        super();\r\n        this.state= {\r\n            email: \"\",\r\n            successMessage: \"\"\r\n        }\r\n    }\r\n\r\n    changeHandler = (e) => {\r\n        this.setState({\r\n            email: e.target.value\r\n        })\r\n    }\r\n\r\n    submitHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        this.props.user()\r\n\r\n        let email = this.state.email\r\n\r\n        axios.post(`${process.env.REACT_APP_API}/auth/send-reset`, {email})\r\n        .then(response=>{\r\n            debugger\r\n            this.setState({\r\n                successMessage: response.data\r\n            })\r\n            this.props.history.push(\"/auth/reset-password\")\r\n        })\r\n        .catch(error=>console.log(error))\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <form method=\"POST\" onSubmit={this.submitHandler}>\r\n                <div class=\"form-group\">\r\n                <label for=\"email\">Email</label>\r\n                <input type=\"email\" name=\"email\"\r\n                placeholder=\"Your email\" class=\"form-control\" onChange={this.changeHandler} required/><br/>\r\n                </div>\r\n                <p id=\"display\" class=\"text-center text-warning\">{this.state.successMessage}</p>\r\n                <button type=\"submit\" class=\"btn btn-primary\" id=\"send-btn\">Send Reset Link</button>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SendReset","import React, { Component } from 'react';\nimport './App.css';\nimport { Route, Redirect } from \"react-router-dom\";\nimport Home from \"./components/home\";\nimport Event from \"./components/events\";\nimport Detail from \"./components/detail\";\nimport Signup from \"./components/signup\";\nimport Login from \"./components/login\";\nimport Base from \"./components/index\";\nimport Nav from \"./components/nav\";\nimport {withRouter} from \"react-router-dom\";\nimport Favorite from \"./components/favorites\";\nimport Connect from \"./components/chat/connect\";\nimport Reset from \"./components/resetPassword\";\nimport SendReset from \"./components/sendReset\";\n\nconst PrivateRoute = ({ component: Component, loggedIn, ...rest }) => (\n  \n  <Route {...rest} render={(props) => (\n        loggedIn ? (\n            <Component {...props} {...rest}/>\n        ) : (\n          <Redirect to=\"/auth/login\"/>\n        )\n  )}/>\n)\n\nclass App extends Component {\n\n  constructor(props){\n    super(props);\n    this.state= {\n      loggedIn: !!localStorage.getItem(\"user\")\n    }\n  }\n\n  checkForUserStatus = () => {\n    if(localStorage.getItem(\"user\")){\n      this.setState({\n        loggedIn: true\n      })\n    } else {\n      this.setState({\n        loggedIn: false\n      })\n    }\n  }\n\n  navDisplay = () => {\n    if(this.props.location.pathname === \"/\" || this.props.location.pathname === \"/home\" || this.props.location.pathname === \"/auth/signup\" || this.props.location.pathname === \"/auth/login\"){\n      return true\n    }\n  }\n\n  render(){\n\n    return (\n      <>\n      {this.navDisplay() ? null : <Nav/>}\n        <Route path=\"/\" exact render={(routeProps)=> <Base {...routeProps} user={this.checkForUserStatus}/>}/>\n        <PrivateRoute path=\"/home\" exact component={Home} loggedIn={this.state.loggedIn}/>\n        <PrivateRoute path=\"/events/:id\" exact component={Event} loggedIn={this.state.loggedIn}/>\n        <PrivateRoute path=\"/event-details/:id\" exact component={Detail} loggedIn={this.state.loggedIn}/>\n        <PrivateRoute path=\"/favorites\" exact component={Favorite} loggedIn={this.state.loggedIn}/>\n        <PrivateRoute path=\"/connect\" exact component={Connect} loggedIn={this.state.loggedIn}/>\n        <Route path=\"/auth/signup\" exact render={(routeProps)=> <Signup {...routeProps} user={this.checkForUserStatus}/>}/>\n        <Route path=\"/auth/send-reset\" exact render={(routeProps)=> <SendReset {...routeProps} user={this.checkForUserStatus}/>}/>\n        <Route path=\"/auth/reset-password\" exact render={(routeProps)=> <Reset {...routeProps} user={this.checkForUserStatus}/>}/>\n        <Route path=\"/auth/login\" exact render={(routeProps)=> <Login {...routeProps} user={this.checkForUserStatus}/>}/>\n      </>\n    );\n  }\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Router>\n    <App />\n</Router>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}